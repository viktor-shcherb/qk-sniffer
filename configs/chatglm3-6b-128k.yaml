dataset:
  path: viktoroo/longbench2-128k-plus
  name: null
  split: train
  text_column: text
  max_samples: 2048

model:
  name: zai-org/chatglm3-6b-128k
  revision: main
  dtype: bfloat16
  device_map: auto
  trust_remote_code: true

tokenizer:
  name: zai-org/chatglm3-6b-128k
  max_length: 131072
  padding: longest
  trust_remote_code: true

inference:
  batch_size: 1
  autocast_dtype: bfloat16

capture:
  capture_queries: true
  capture_keys: true
  layers: null
  heads: null
  min_bucket_size: 8192
  sampler:
    type: uniform
    base_rate: 3.0

output:
  data_root: data/sniffed-qk-chatglm3-6b-128k
  readme_path: README.md
  hf_repo_id: viktoroo/sniffed-qk-chatglm3-6b-128k
